<!DOCTYPE html>
<html>
<head>
    <title>Heart Disease Prediction</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="container">

    <h1>ðŸ©º Heart Disease Prediction</h1>

    <form action="/predict" method="post">

        <div class="form-grid">

            <input type="number" name="age" placeholder="Age" required>

            <select name="sex" required>
                <option value="">Sex</option>
                <option value="0">Female</option>
                <option value="1">Male</option>
            </select>

            <select name="cp" required>
                <option value="">Chest Pain Type</option>
                <option value="0">Typical Angina</option>
                <option value="1">Atypical Angina</option>
                <option value="2">Non-anginal Pain</option>
                <option value="3">Asymptomatic</option>
            </select>

            <input type="number" name="trestbps" placeholder="Resting BP" required>
            <input type="number" name="chol" placeholder="Cholesterol" required>

            <select name="fbs" required>
                <option value="">Fasting Blood Sugar</option>
                <option value="0">â‰¤ 120 mg/dl</option>
                <option value="1">> 120 mg/dl</option>
            </select>

            <select name="restecg" required>
                <option value="">Rest ECG</option>
                <option value="0">Normal</option>
                <option value="1">ST-T Abnormality</option>
                <option value="2">LV Hypertrophy</option>
            </select>

            <input type="number" name="thalach" placeholder="Max Heart Rate" required>

            <select name="exang" required>
                <option value="">Exercise Angina</option>
                <option value="0">No</option>
                <option value="1">Yes</option>
            </select>

            <input type="number" step="0.1" name="oldpeak" placeholder="Oldpeak" required>

            <select name="slope" required>
                <option value="">Slope</option>
                <option value="0">Upsloping</option>
                <option value="1">Flat</option>
                <option value="2">Downsloping</option>
            </select>

            <select name="ca" required>
                <option value="">Major Vessels</option>
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
            </select>

            <select name="thal" required>
                <option value="">Thal</option>
                <option value="0">Normal</option>
                <option value="1">Fixed Defect</option>
                <option value="2">Reversible Defect</option>
                <option value="3">Unknown</option>
            </select>

        </div>

        <button type="submit">Predict Heart Risk</button>
    </form>


    {% if prediction_text %}
        {% if "Low" in prediction_text %}
            <div class="result low-risk">{{ prediction_text }}</div>
        {% else %}
            <div class="result high-risk">{{ prediction_text }}</div>
        {% endif %}
    {% endif %}


    {% if probability %}
        <div class="chart-container">
            <h3>Disease Probability: {{ probability }}%</h3>

            <div class="bar-bg">
                <div class="bar-fill" style="width: {{ probability }}%"></div>
            </div>
        </div>
    {% endif %}


    {% if tips %}
        <div class="tips">
            <h3>Health Tips</h3>
            <ul>
                {% for tip in tips %}
                    <li>{{ tip }}</li>
                {% endfor %}
            </ul>

            <a href="/download" class="download-btn">Download PDF Report</a>
        </div>
    {% endif %}

</div>

</body>
</html>
